Start of versioning work
------------------------
alter table item add editable boolean after deleted;
alter table item add version int after published;
update item set version=1, editable=1;
alter table item drop index idx_item_site_path, add unique key idx_item_site_path_version (siteid,path,version);
alter table item add index idx_deleted (deleted);
alter table item add index idx_editable (editable);
alter table item add index idx_published (published);

Hostname alias introduction and
further work on versioning
-------------------------------

(See dbtables.sql for creation of host table)
insert into host values (1, 16, 'sws.slepeweb.com');
insert into host values (2, 16, 'sws-staging.slepeweb.com');

alter table site drop column hostname;
alter table item add origid int after id;
alter table item add index idx_origid (origid);

update item set origid = id;
select id, origid, path, version from item where siteid=16 and path in (select path from item where siteid=16 and version >1) order by path, version


alter table field modify column fieldtype enum ('text', 'markup', 'integer', 'date', 'url', 'radio', 'checkbox', 'select', 'datetime');